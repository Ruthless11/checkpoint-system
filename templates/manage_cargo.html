{% extends 'layout.html' %}
{% block title %}Manage Cargo Types{% endblock %}
{% block content %}
<div class="container mt-4">
  <h3 class="mb-4 text-primary"><i class="bi bi-box-seam"></i> Cargo Type Management</h3>

  <!-- Add New Cargo Type -->
  <form method="POST" class="row g-3 mb-4 border p-3 rounded bg-light shadow-sm">
    <div class="col-md-5">
      <input type="text" name="name" class="form-control" placeholder="Cargo Name (e.g. Copper)" required>
    </div>
    <div class="col-md-4">
      <input type="number" name="price" class="form-control" placeholder="Price (ZMW)" min="1" step="0.01" required>
    </div>
    <div class="col-md-3">
      <button type="submit" class="btn btn-success w-100">
        <i class="bi bi-plus-circle"></i> Add Cargo Type
      </button>
    </div>
  </form>

  <!-- Existing Cargo Types -->
  <div class="card shadow-sm border-0">
    <div class="card-body p-0">
      <table class="table table-striped mb-0">
        <thead class="table-light">
          <tr>
            <th>Name</th>
            <th>Price (ZMW)</th>
            <th>Actions</th>
          </tr>
        </thead>
        <tbody>
          {% for cargo in cargos %}
          <tr>
            <td>{{ cargo.name }}</td>
            <td>
              <form method="POST" action="{{ url_for('token.update_cargo', id=cargo.id) }}" class="d-flex">
                <input type="number" name="price" value="{{ cargo.price }}" class="form-control me-2" step="0.01" required>
                <button class="btn btn-primary btn-sm" title="Update"><i class="bi bi-pencil"></i></button>
              </form>
            </td>
            <td>
              <form method="POST" action="{{ url_for('token.delete_cargo', id=cargo.id) }}" onsubmit="return confirm('Delete this cargo type?')">
                <button class="btn btn-danger btn-sm" title="Delete"><i class="bi bi-trash"></i></button>
              </form>
            </td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
  </div>
</div>
{% endblock %}
